#+TITLE: Parse My Clippings.txt from Kindle to YAML

This works for all the variations that I have in my =My Clippings.txt= file as of now.

#+begin_src sh
  # Find the number of clippings inside a My Clippings.txt file
  # Exclude bookmarks
  $ rg -c -- 'ブックマーク' ~/notes/kindle-clippings/My\ Clippings.txt
  1

  $ rg -c -- '- Your Bookmark' ~/notes/kindle-clippings/My\ Clippings.txt
  59

  $ rg -c -- '={10}' ~/notes/kindle-clippings/My\ Clippings.txt
  8233

  $ echo $((8233-59-1))
  8173

  # Use the parser to extract the clippings to a YAML file
  $ go run kindle-my-clippings-parser.go -input-file-path ~/notes/kindle-clippings/My\ Clippings.txt
  Read 8172 clippings from file%

  $ rg -c -- '- source' parsed-clippings.yaml
  8172

  # Off by 1, good enough!
#+end_src

This is a replacement for https://github.com/icyflame/excerpts_bot in Go. I rewrote the logic to
parse the =My Clippings.txt= file inside a Kindle, rather than looking at the CSV files which can be
emailed from the Kindle to one's email address, because I recently started using Calibre and keeping
the My Clippings.txt file is much easier. It also means that I can send excerpts from books that I
have not completed reading yet (as I used to send the CSV file with highlights to my email only
after completing a book.)
